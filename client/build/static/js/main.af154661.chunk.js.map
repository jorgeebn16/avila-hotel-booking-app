{"version":3,"sources":["components/TopNav.js","components/PrivateRoute.js","actions/hotel.js","actions/stripe.js","components/cards/SmallCard.js","components/forms/Search.js","booking/Home.js","actions/auth.js","components/LoginForm.js","auth/Login.js","components/RegistrationForm.js","auth/Registration.js","components/DashboardNav.js","components/ConnectNav.js","components/modals/OrderModal.js","components/cards/BookingCard.js","user/Dashboard.js","user/DashboardSeller.js","components/forms/HotelCreateForm.js","hotels/NewHotel.js","stripe/StripeCallback.js","components/forms/HotelEditForm.js","hotels/EditHotel.js","hotels/ViewHotel.js","stripe/StripeSuccess.js","stripe/StripeCancel.js","hotels/SearchResult.js","App.js","reducers/auth.js","reportWebVitals.js","reducers/index.js","index.js"],"names":["TopNav","dispatch","useDispatch","auth","useSelector","state","history","useHistory","className","to","onClick","type","payload","window","localStorage","removeItem","push","PrivateRoute","rest","token","createHotel","data","a","axios","post","process","headers","Authorization","allHotels","get","diffDays","from","start","Date","end","Math","round","abs","sellerHotels","deleteHotel","hotelId","delete","read","updateHotel","put","userHotelBookings","isAlreadyBooked","searchListings","query","createConnectAccount","getAccountStatus","getAccountBalance","currencyFormatter","amount","toLocaleString","currency","style","payoutSetting","getSessionId","stripeSuccessRequest","SmallCard","h","handleHotelDelete","f","owner","showViewMoreButton","image","contentType","src","_id","alt","title","price","location","content","substring","bed","toLocaleDateString","EditOutlined","DeleteOutlined","RangePicker","DatePicker","Option","Select","config","appId","apiKey","language","Search","useState","setLocation","date","setDate","setBed","placeholder","defaultValue","options","onChange","suggestion","value","height","dateString","disabledDate","current","valueOf","moment","subtract","size","SearchOutlined","Home","hotels","setHotels","useEffect","loadAllhotels","res","map","registration","user","login","updateUserInLocalStorage","next","getItem","JSON","parse","setItem","stringify","LoginForm","handleSubmit","email","setEmail","password","setPassword","onSubmit","e","target","disabled","Login","preventDefault","console","log","response","status","toast","error","RegistrationForm","name","setName","Registration","success","DashboardNav","active","pathname","Meta","Card","Ribbon","Badge","ConnectNav","setLoading","balance","setBalance","then","handlePayoutSettings","href","url","avatar","description","createdAt","fromNow","stripe_seller","charges_enabled","text","color","pending","bp","i","SettingOutlined","OrderModal","session","orderedBy","showModal","setShowModal","visible","onCancel","payment_status","toUpperCase","amount_total","customer","BookingCard","hotel","Dashboard","booking","setBooking","loadUserBookings","b","DashboardSeller","loading","loadSellersHotels","handleClick","confirm","HomeOutlined","HotelCreateForm","props","values","setValues","handleChange","handleImageChange","accept","hidden","NewHotel","preview","setPreview","hotelData","FormData","append","setTimeout","reload","URL","createObjectURL","files","StripeCallback","accountStatus","LoadingOutlined","HotelEditForm","length","EditHotel","match","setImage","loadSellerHotel","params","err","ViewHotel","setHotel","alreadyBooked","setAlreadyBooked","ok","loadStripe","redirectToCheckout","sessionId","result","format","postedBy","StripeCancel","SearchResult","queryString","search","table","App","userState","position","exact","path","component","StripeSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af154661.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\nimport {useSelector, useDispatch} from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TopNav = () => {\n  const dispatch = useDispatch();\n  const { auth } = useSelector((state) => ({ ...state }));\n  const history = useHistory();\n\n  const logout = () => {\n    dispatch({\n      type: \"LOGOUT\",\n      payload: null,\n    });\n    window.localStorage.removeItem(\"auth\");\n    history.push(\"/\")\n  }\n\n  return(\n    <div className=\"nav bg-light d-flex justify-content-between\">\n      <Link className=\"nav-link\" to=\"/\">\n        Home\n      </Link>\n\n      {auth !== null && (\n          <Link className=\"nav-link pointer\" to=\"/dashboard\">\n            Dashboard\n          </Link>\n      )}\n\n      {auth !== null && <a className=\"nav-link pointer\" onClick={logout}>Logout</a>}\n\n      {auth === null && (\n        <>\n          <Link className=\"nav-link pointer\" to=\"/login\">\n            Login\n          </Link>\n          <Link className=\"nav-link pointer\" to=\"/registration\">\n            Registration\n          </Link>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default TopNav;","import { Route, Redirect } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nconst PrivateRoute = ({ ...rest }) => {\n  const { auth } = useSelector((state) => ({ ...state }));\n\n  return auth && auth.token ? <Route {...rest} /> : <Redirect to=\"/login\" />;\n};\n\nexport default PrivateRoute;","import axios from \"axios\";\n\nexport const createHotel = async (token, data) =>\n  await axios.post(`${process.env.REACT_APP_API}/create-hotel`, data, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\n  export const allHotels = async () =>\n  await axios.get(`${process.env.REACT_APP_API}/hotels`);\n\n  export const diffDays = (from, to) => {\n    const day = 24 * 60 * 60 * 1000;\n    const start = new Date(from);\n    const end = new Date(to);\n    const difference = Math.round(Math.abs((start - end) / day));\n    return difference;\n  };\n\n  export const sellerHotels = async (token) =>\n  await axios.get(`${process.env.REACT_APP_API}/seller-hotels`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\n  export const deleteHotel = async (token, hotelId) =>\n  await axios.delete(`${process.env.REACT_APP_API}/delete-hotel/${hotelId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\n  export const read = async (hotelId) =>\n  await axios.get(`${process.env.REACT_APP_API}/hotel/${hotelId}`);\n\n  export const updateHotel = async (token, data, hotelId) =>\n  await axios.put(\n    `${process.env.REACT_APP_API}/update-hotel/${hotelId}`,\n    data,\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  export const userHotelBookings = async (token) =>\n  await axios.get(`${process.env.REACT_APP_API}/user-hotel-bookings`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\nexport const isAlreadyBooked = async (token, hotelId) =>\n  await axios.get(`${process.env.REACT_APP_API}/is-already-booked/${hotelId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\nexport const searchListings = async (query) =>\nawait axios.post(`${process.env.REACT_APP_API}/search-listings`, query);\n\n  ","import axios from \"axios\";\n\nexport const createConnectAccount = async (token) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/create-connect-account`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const getAccountStatus = async (token) =>\n  axios.post(\n    `${process.env.REACT_APP_API}/get-account-status`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  export const getAccountBalance = async (token) =>\n  axios.post(\n    `${process.env.REACT_APP_API}/get-account-balance`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  export const currencyFormatter = data => {\n    return (data.amount /100).toLocaleString(data.currency, {\n      style: \"currency\",\n      currency: data.currency,\n    });\n  };\n\n  export const payoutSetting = async (token) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/payout-setting`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  export const getSessionId = async (token, hotelId) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/stripe-session-id`,\n    {\n      hotelId,\n    },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  export const stripeSuccessRequest = async (token, hotelId) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/stripe-success`,\n    { hotelId },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n","import { currencyFormatter } from \"../../actions/stripe\";\nimport { diffDays } from \"../../actions/hotel\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\n\nconst SmallCard = ({\n  h,\n  handleHotelDelete = (f) => f,\n  owner = false,\n  showViewMoreButton = true,\n}) => {\n  const history = useHistory();\n  return (\n    <>\n      <div className=\"card mb-3\">\n        <div className=\"row no-gutters\">\n          <div className=\"col-md-4\">\n            {h.image && h.image.contentType ? (\n              <img\n                src={`${process.env.REACT_APP_API}/hotel/image/${h._id}`}\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            ) : (\n              <img\n                src=\"https://via.placeholder.com/900x500.png?text=MERN+Booking\"\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            )}\n          </div>\n          <div className=\"col-md-8\">\n            <div className=\"card-body\">\n              <h3 className=\"card-title\">\n                {h.title}{\"\"}\n                <span className=\"float-right text-primary\">\n                  {currencyFormatter({\n                    amount: h.price * 100,\n                    currency: \"usd\",\n                  })}\n                </span>{\" \"}\n              </h3>\n              <p className=\"alert alert-info\">{h.location}</p>\n              <p className=\"card-text\">{`${h.content.substring(0, 200)}...`}</p>\n              <p className=\"card-text\">\n                <span className=\"float-right text-primary\">\n                  for {diffDays(h.from, h.to)}{\" \"}\n                  {diffDays(h.from, h.to) <= 1 ? \" day\" : \" days\"}\n                </span>\n              </p>\n              <p className=\"card-text\">{h.bed} bed</p>\n              <p className=\"card-text\">\n                Available from {new Date(h.from).toLocaleDateString()}\n              </p>\n\n              <div className=\"d-flex justify-content-between h4\">\n                {showViewMoreButton && (\n                  <button\n                    onClick={() => history.push(`/hotel/${h._id}`)}\n                    className=\"btn btn-primary\"\n                  >\n                    Show more\n                  </button>\n                )}\n                {owner && (\n                  <>\n                    <Link to={`/hotel/edit/${h._id}`}>\n                      <EditOutlined className=\"text-warning\" />\n                    </Link>\n                    <DeleteOutlined\n                      onClick={() => handleHotelDelete(h._id)}\n                      className=\"text-danger\"\n                    />\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SmallCard;\n","import React, { useState } from \"react\";\nimport { DatePicker, Select } from \"antd\";\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport AlgoliaPlaces from \"algolia-places-react\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\n\nconst { RangePicker } = DatePicker;\nconst { Option } = Select;\n\nconst config = {\n  appId: process.env.REACT_APP_ALGOLIA_APP_ID,\n  apiKey: process.env.REACT_APP_ALGOLIA_APP_KEY,\n  language: \"en\",\n};\n\nconst Search = () => {\n  const [location, setLocation] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [bed, setBed] = useState(\"\");\n  const history = useHistory();\n\n  const handleSubmit = () => {\n    history.push(`/search-result?location=${location}&date=${date}&bed=${bed}`);\n  };\n\n  return (\n    <div className=\"d-flex pb-4\">\n      <div className=\"w-100\">\n        <AlgoliaPlaces\n          placeholder=\"Location\"\n          defaultValue={location}\n          options={config}\n          onChange={({ suggestion }) => setLocation(suggestion.value)}\n          style={{ height: \"50px\" }}\n        />\n      </div>\n\n      <RangePicker\n        onChange={(value, dateString) => setDate(dateString)}\n        disabledDate={(current) =>\n          current && current.valueOf() < moment().subtract(1, \"days\")\n        }\n        className=\"w-100\"\n      />\n\n      <Select\n        onChange={(value) => setBed(value)}\n        className=\"w-100\"\n        size=\"large\"\n        placeholder=\"Number of beds\"\n      >\n        <Option key={1}>{1}</Option>\n        <Option key={2}>{2}</Option>\n        <Option key={3}>{3}</Option>\n        <Option key={4}>{4}</Option>\n      </Select>\n\n      <SearchOutlined\n        onClick={handleSubmit}\n        className=\"btn btn-primary p-3 btn-square\"\n      />\n    </div>\n  );\n};\n\nexport default Search;\n","import { useState, useEffect } from \"react\";\nimport { allHotels } from \"../actions/hotel\";\nimport SmallCard from \"../components/cards/SmallCard\";\nimport Search from \"../components/forms/Search\";\n\nconst Home = () => {\n  const [hotels, setHotels] = useState([]);\n\n  useEffect(() => {\n    loadAllhotels();\n  }, []);\n\n  const loadAllhotels = async () => {\n    let res = await allHotels();\n    setHotels(res.data);\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-white p-5 text-center\">\n        <h1>All Hotels</h1>\n      </div>\n      <div className=\"col\">\n        <br />\n        <Search />\n      </div>\n      <div className=\"container-fluid\">\n        <br />\n        {hotels.map((h) => (\n          <SmallCard key={h._id} h={h} />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import axios from \"axios\";\n\nexport const registration = async (user) =>\n  await axios.post(`${process.env.REACT_APP_API}/registration`, user);\n\nexport const login = async (user) =>\n  await axios.post(`${process.env.REACT_APP_API}/login`, user);\n\n// update user in local storage\nexport const updateUserInLocalStorage = (user, next) => {\n  if (window.localStorage.getItem(\"auth\")) {\n    let auth = JSON.parse(localStorage.getItem(\"auth\"));\n    auth.user = user;\n    localStorage.setItem(\"auth\", JSON.stringify(auth));\n    next();\n  }\n};","const LoginForm = ({\n    handleSubmit,\n    email,\n    setEmail,\n    password,\n    setPassword,\n  }) => (\n    <form onSubmit={handleSubmit} className=\"mt-3\">\n      <div className=\"form-group mb-3\">\n        <label className=\"form-label\">Email address</label>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          placeholder=\"Enter email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n      </div>\n  \n      <div className=\"form-group mb-3\">\n        <label className=\"form-label\">Password</label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          placeholder=\"Enter password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </div>\n  \n      <button disabled={!email || !password} className=\"btn btn-primary\">\n        Submit\n      </button>\n    </form>\n  );\n  \n  export default LoginForm;\n  ","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { login } from \"../actions/auth\";\nimport LoginForm from \"../components/LoginForm\";\nimport { useDispatch } from \"react-redux\";\n\nconst Login = ({history}) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const dispatch = useDispatch();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    console.log('SEND LOGIN DATA', {email, password});\n    try {\n        let res = await login({email, password})\n        if (res.data) {\n            console.log(\n              \"SAVE USER RES IN REDUX AND LOCAL STORAGE THEN REDIRECT ===> \"\n            );\n            // console.log(res.data);\n            // save user and token to local storage\n            window.localStorage.setItem(\"auth\", JSON.stringify(res.data));\n            // save user and token to redux\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: res.data,\n            });\n            history.push(\"/dashboard\");\n          }\n    } catch (err) {\n          console.log(err);\n          if (err.response.status === 400) toast.error(err.response.data);\n    }\n};\n\n  return (\n    <>\n      <div className=\"container-fluid bg-white p-5 text-center\">\n        <h1>Login</h1>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3\">\n            <LoginForm\n              handleSubmit={handleSubmit}\n              email={email}\n              setEmail={setEmail}\n              password={password}\n              setPassword={setPassword}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;","const RegistrationForm = ({\n    handleSubmit,\n    name,\n    setName,\n    email,\n    setEmail,\n    password,\n    setPassword,\n  }) => (\n    <form onSubmit={handleSubmit} className=\"mt-3\">\n      <div className=\"form-group mb-3\">\n        <label className=\"form-label\">Your name</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Enter name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n      </div>\n  \n      <div className=\"form-group mb-3\">\n        <label className=\"form-label\">Email address</label>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          placeholder=\"Enter email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n      </div>\n  \n      <div className=\"form-group mb-3\">\n        <label className=\"form-label\">Password</label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          placeholder=\"Enter password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </div>\n  \n      <button disabled={!name || !email || !password} className=\"btn btn-primary\">\n      Submit\n      </button>\n    </form>\n  );\n  \n  export default RegistrationForm;\n  ","import { useState } from \"react\";\nimport RegistrationForm from '../components/RegistrationForm';\n// import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { registration } from '../actions/auth';\n\nconst Registration = ({ history }) => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  console.log(\"history\", history);\n\n  const handleSubmit = async(e) => {\n    e.preventDefault();\n    try {\n      const res = await registration ({\n          name, \n          email, \n          password,\n      \n    });\n    console.log(\"User Registration ===>\", res);\n    toast.success(\"Registration Successful, Please Login\");\n    history.push(\"/login\");\n    } catch (err) {\n      console.log(err);\n      if (err.response.status === 400) toast.error(err.response.data);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-white p-5 text-center\">\n        <h1>Registration</h1>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3\">\n            <RegistrationForm \n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n            email={email}\n            setEmail={setEmail}\n            password={password}\n            setPassword={setPassword}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Registration;\n","import { Link } from \"react-router-dom\";\n\nconst DashboardNav = () => {\n  const active = window.location.pathname;\n  //   console.log(active);\n  return (\n    <ul className=\"nav nav-tabs\">\n      <li className=\"nav-item\">\n        <Link\n          className={`nav-link ${active === \"/dashboard\" && \"active\"}`}\n          to=\"/dashboard\"\n        >\n          Your Bookings\n        </Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link\n          className={`nav-link ${active === \"/dashboard/seller\" && \"active\"}`}\n          to=\"/dashboard/seller\"\n        >\n          Your Hotels\n        </Link>\n      </li>\n    </ul>\n  );\n};\n\nexport default DashboardNav;","import { useSelector } from \"react-redux\";\nimport { Card, Avatar, Badge } from \"antd\";\nimport moment from \"moment\";\nimport {getAccountBalance, currencyFormatter, payoutSetting} from \"../actions/stripe\";\nimport { useEffect, useState } from \"react\";\nimport {SettingOutlined} from \"@ant-design/icons\"\nimport {toast} from \"react-toastify\"\n \nconst { Meta } = Card;\nconst { Ribbon } = Badge;\n\nconst ConnectNav = () => {\n  const [loading, setLoading] = useState(false)\n  const [balance, setBalance] = useState(0);\n  const { auth } = useSelector((state) => ({ ...state }));\n  const { user, token } = auth;\n\n  useEffect(() => {\n    getAccountBalance(auth.token).then((res) => {\n      console.log(res);\n      setBalance(res.data);\n    });\n  }, []);\n\n  const handlePayoutSettings = async () => {\n    setLoading(true);\n    try{\n      const res = await payoutSetting (token);\n      // console.log(\"RES FOR PAYOUT SETTINGS LINK\", res);\n      window.location.href =res.data.url;\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n      setLoading(false);\n      toast(\"Unable to access settings. Try again\");\n    }\n  };\n\n  return (\n    <div className=\"d-flex justify-content-around\">\n      <Card>\n        <Meta\n          avatar={<Avatar>{user.name[0]}</Avatar>}\n          title={user.name}\n          description={`Joined ${moment(user.createdAt).fromNow()}`}\n        />\n      </Card>\n      {auth &&\n        auth.user &&\n        auth.user.stripe_seller &&\n        auth.user.stripe_seller.charges_enabled && (\n          <>\n            <Ribbon text=\"Available\" color=\"blue\">\n              <Card className=\"bg-white pt-1\">\n                {balance && \n                  balance.pending && \n                  balance.pending.map((bp, i) => (\n                    <span key={i} className=\"lead\">\n                      {currencyFormatter (bp)}\n                    </span>\n                ))}\n              </Card>\n            </Ribbon>\n            <Ribbon text=\"Payouts\" color=\"silver\">\n              <Card onClick={handlePayoutSettings} className=\"bg-white pointer\">\n                <SettingOutlined className=\"h5 pt-2\"/>\n              </Card>\n            </Ribbon>\n          </>\n        )}\n    </div>\n  );\n};\n\nexport default ConnectNav;\n","import { Modal } from \"antd\";\n\nconst OrderModal = ({ session, orderedBy, showModal, setShowModal }) => {\n  return (\n    <Modal\n      visible={showModal}\n      title=\"Order payment info\"\n      onCancel={() => setShowModal(!showModal)}\n    >\n      <p>Payment status: {session.payment_status}</p>\n      <p>\n        Amount total: {session.currency.toUpperCase()}{\" \"}\n        {session.amount_total / 100 +\" per night\"}\n      </p>\n      <p>Customer id: {session.customer}</p>\n      <p>Customer: {orderedBy.name}</p>\n    </Modal>\n  );\n};\n\nexport default OrderModal;\n","import { useState } from \"react\";\nimport { currencyFormatter } from \"../../actions/stripe\";\nimport { diffDays } from \"../../actions/hotel\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport OrderModal from \"../modals/OrderModal\";\n\nconst BookingCard = ({ hotel, session, orderedBy }) => {\n  const [showModal, setShowModal] = useState(false);\n\n  const history = useHistory();\n  return (\n    <>\n      <div className=\"card mb-3\">\n        <div className=\"row no-gutters\">\n          <div className=\"col-md-4\">\n            {hotel.image && hotel.image.contentType ? (\n              <img\n                src={`${process.env.REACT_APP_API}/hotel/image/${hotel._id}`}\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            ) : (\n              <img\n                src=\"https://via.placeholder.com/900x500.png?text=MERN+Booking\"\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            )}\n          </div>\n          <div className=\"col-md-8\">\n            <div className=\"card-body\">\n              <h3 className=\"card-title\">\n                {hotel.title}{\" \"}\n                <span className=\"float-right text-primary\">\n                  {currencyFormatter({\n                    amount: hotel.price * 100,\n                    currency: \"usd\",\n                  })}\n                </span>{\" \"}\n              </h3>\n              <p className=\"alert alert-info\">{hotel.location}</p>\n              <p className=\"card-text\">{`${hotel.content.substring(\n                0,\n                200\n              )}...`}</p>\n              <p className=\"card-text\">\n                <span className=\"float-right text-primary\">\n                  for {diffDays(hotel.from, hotel.to)}{\" \"}\n                  {diffDays(hotel.from, hotel.to) <= 1 ? \" day\" : \" days\"}\n                </span>\n              </p>\n              <p className=\"card-text\">{hotel.bed} bed</p>\n              <p className=\"card-text\">\n                Available from {new Date(hotel.from).toLocaleDateString()}\n              </p>\n\n              {showModal && (\n                <OrderModal\n                  session={session}\n                  orderedBy={orderedBy}\n                  showModal={showModal}\n                  setShowModal={setShowModal}\n                />\n              )}\n\n              <div className=\"d-flex justify-content-between h4\">\n                <button\n                  onClick={() => setShowModal(!showModal)}\n                  className=\"btn btn-primary\"\n                >\n                  Show Payment info\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default BookingCard;\n","import DashboardNav from \"../components/DashboardNav\";\nimport ConnectNav from \"../components/ConnectNav\";\nimport { Link } from \"react-router-dom\";\nimport { userHotelBookings } from \"../actions/hotel\";\nimport { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport BookingCard from \"../components/cards/BookingCard\";\n\nconst Dashboard = () => {\n  const {\n    auth: { token },\n  } = useSelector((state) => ({ ...state }));\n  const [booking, setBooking] = useState([]);\n\n  useEffect(() => {\n    loadUserBookings();\n  }, []);\n\n  const loadUserBookings = async () => {\n    const res = await userHotelBookings(token);\n    console.log(res);\n    setBooking(res.data);\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-white p-5\">\n        <ConnectNav />\n      </div>\n\n      <div className=\"container-fluid p-4\">\n        <DashboardNav />\n      </div>\n\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <h2>Your Bookings</h2>\n          </div>\n          <div className=\"col-md-2\">\n            <Link to=\"/\" className=\"btn btn-primary\">\n              Browse Hotels\n            </Link>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {booking.map((b) => (\n          <BookingCard\n            key={b._id}\n            hotel={b.hotel}\n            session={b.session}\n            orderedBy={b.orderedBy}\n          />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Dashboard;\n","import { useState, useEffect } from \"react\";\nimport DashboardNav from \"../components/DashboardNav\";\nimport ConnectNav from \"../components/ConnectNav\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { HomeOutlined } from \"@ant-design/icons\";\nimport { createConnectAccount } from \"../actions/stripe\";\nimport { toast } from \"react-toastify\";\nimport { sellerHotels, deleteHotel } from\"../actions/hotel\";\nimport SmallCard from \"../components/cards/SmallCard\";\n\n\nconst DashboardSeller = () => {\n  const [hotels, setHotels] = useState([]);\n  const { auth } = useSelector((state) => ({ ...state }));\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() =>{\n    loadSellersHotels()\n  }, [])\n\n  const loadSellersHotels = async () =>{\n    let { data } = await sellerHotels(auth.token);\n    setHotels(data);\n  }\n\n  const handleClick = async () => {\n    setLoading(true);\n    try {\n      let res = await createConnectAccount(auth.token);\n      console.log(res);\n      window.location.href = res.data;\n    } catch (err) {\n      console.log(err);\n      toast.error(\"Stripe connect failed, Try again.\");\n      setLoading(false);\n    }\n  };\n\n  const handleHotelDelete = async (hotelId) => {\n    if (!window.confirm(\"Want to delete this Hotel?\")) return;\n    deleteHotel(auth.token, hotelId).then((res) => {\n      toast.success(\"Hotel Deleted\");\n      loadSellersHotels();\n    });\n  };\n\n  const connected = () => (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-10\">\n          <h2>Your Hotels</h2>\n        </div>\n        <div className=\"col-md-2\">\n          <Link to=\"/hotels/new\" className=\"btn btn-primary\">\n            + Add New\n          </Link>\n        </div>\n      </div>\n      <div className=\"row\">\n        {hotels.map(h => (\n        <SmallCard \n        key={h._id} \n        h={h} \n        showViewMoreButton={false} \n        owner={true}\n        handleHotelDelete={handleHotelDelete}\n        />\n        ))}\n      </div>\n    </div>\n  );\n\n  const notConnected = () => (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3 text-center\">\n          <div className=\"p-5 pointer\">\n            <HomeOutlined className=\"h1\" />\n            <h4>Setup payouts to post hotel rooms</h4>\n            <p className=\"lead\">\n              MERN partners with stripe to transfer earnings to your bank\n              account\n            </p>\n            <button\n              disabled={loading}\n              onClick={handleClick}\n              className=\"btn btn-primary mb-3\"\n            >\n              {loading ? \"Processing...\" : \"Setup Payouts\"}\n            </button>\n            <p className=\"text-muted\">\n              <small>\n                You'll be redirected to Stripe to complete the onboarding\n                process.\n              </small>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <>\n      <div className=\"container-fluid bg-white p-5\">\n        <ConnectNav />\n      </div>\n\n      <div className=\"container-fluid p-4\">\n        <DashboardNav />\n      </div>\n\n      {auth &&\n      auth.user &&\n      auth.user.stripe_seller &&\n      auth.user.stripe_seller.charges_enabled\n        ? connected()\n        : notConnected()}\n\n      {/* <pre>{JSON.stringify(auth, null, 4)}</pre> */}\n    </>\n  );\n};\n\nexport default DashboardSeller;\n","import AlgoliaPlaces from \"algolia-places-react\";\nimport { DatePicker, Select } from \"antd\";\nimport moment from \"moment\";\n\n\nconst { Option } = Select;\n\nconst config = {\n  appId: process.env.REACT_APP_ALGOLIA_APP_ID,\n  apiKey: process.env.REACT_APP_ALGOLIA_APP_KEY,\n  language: \"en\",\n};\n\nconst HotelCreateForm = (props) => {\n  const {\n    values,\n    setValues,\n    handleChange,\n    handleImageChange,\n    handleSubmit,\n    location,\n    setLocation,\n  } = props;\n  const { title, content, price } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n    <div className=\"form-group\">\n      <label className=\"btn btn-outline-primary btn-block m-2 text-left\">\n        Image\n        <input\n          type=\"file\"\n          name=\"image\"\n          onChange={handleImageChange}\n          accept=\"image/*\"\n          hidden\n        />\n      </label>\n\n      <input\n        type=\"text\"\n        name=\"title\"\n        onChange={handleChange}\n        placeholder=\"Title\"\n        className=\"form-control m-2\"\n        value={title}\n      />\n\n      <textarea\n        name=\"content\"\n        onChange={handleChange}\n        placeholder=\"Content\"\n        className=\"form-control m-2\"\n        value={content}\n      />\n\n      <AlgoliaPlaces\n        className=\"form-control m-2\"\n        placeholder=\"Location\"\n        defaultValue={location}\n        options={config}\n        onChange={({ suggestion }) => setLocation(suggestion.value)}\n        style={{ height: \"50px\" }}\n      />\n\n      <input\n        type=\"number\"\n        name=\"price\"\n        onChange={handleChange}\n        placeholder=\"Price\"\n        className=\"form-control m-2\"\n        value={price}\n      />\n\n      <Select\n        onChange={(value) => setValues({ ...values, bed: value })}\n        className=\"w-100 m-2\"\n        size=\"large\"\n        placeholder=\"Number of rooms\"\n      >\n        <Option key={1}>{1}</Option>\n        <Option key={2}>{2}</Option>\n        <Option key={3}>{3}</Option>\n        <Option key={4}>{4}</Option>\n      </Select>\n    </div>\n\n    <DatePicker\n      placeholder=\"From date\"\n      className=\"form-control m-2\"\n      onChange={(date, dateString) =>\n        setValues({ ...values, from: dateString })\n      }\n      disabledDate={(current) =>\n        current && current.valueOf() < moment().subtract(1, \"days\")\n      }\n    />\n\n    <DatePicker\n      placeholder=\"To date\"\n      className=\"form-control m-2\"\n      onChange={(date, dateString) =>\n        setValues({ ...values, to: dateString })\n      }\n      disabledDate={(current) =>\n        current && current.valueOf() < moment().subtract(1, \"days\")\n      }\n    />\n\n    <button className=\"btn btn-outline-primary m-2\">Save</button>\n  </form>\n  );\n};\n\nexport default HotelCreateForm;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { DatePicker, Select } from \"antd\";\nimport { useSelector } from \"react-redux\";\nimport { createHotel } from \"../actions/hotel\";\nimport HotelCreateForm from \"../components/forms/HotelCreateForm\";\n\nconst { Option } = Select;\n\nconst NewHotel = () => {\n  const { auth } = useSelector((state) => ({ ...state }));\n  const { token } = auth;\n\n  const [values, setValues] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n    price: \"\",\n    from: \"\",\n    to: \"\",\n    bed: \"\",\n  });\n  const [preview, setPreview] = useState(\n    \"https://via.placeholder.com/100x100.png?text=PREVIEW\"\n  );\n  const [location, setLocation] = useState(\"\");\n\n  const { title, content, image, price, from, to, bed } = values;\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    console.log(values);\n    console.log(location);\n\n    let hotelData = new FormData();\n    hotelData.append(\"title\", title);\n    hotelData.append(\"content\", content);\n    hotelData.append(\"location\", location);\n    hotelData.append(\"price\", price);\n    image && hotelData.append(\"image\", image);\n    hotelData.append(\"from\", from);\n    hotelData.append(\"to\", to);\n    hotelData.append(\"bed\", bed);\n\n    console.log([...hotelData]);\n\n    try {\n      let res = await createHotel(token, hotelData);\n      console.log(\"HOTEL CREATION RES\", res);\n      toast.success(\"New hotel is posted\");\n      setTimeout(() => {\n        window.location.reload();\n      }, 1000);\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data);\n    }\n\n  };\n\n  const handleImageChange = (e) => {\n    // console.log(e.target.files[0]);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n    setValues({ ...values, image: e.target.files[0] });\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-white p-5 text-center\">\n        <h2>Add Hotel</h2>\n      </div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <br />\n            <HotelCreateForm\n              values={values}\n              setValues={setValues}\n              handleChange={handleChange}\n              handleImageChange={handleImageChange}\n              handleSubmit={handleSubmit}\n              location={location}\n              setLocation={setLocation}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <img\n              src={preview}\n              alt=\"preview_image\"\n              className=\"img img-fluid m-2\"\n            />\n            <pre>{JSON.stringify(values, null, 4)}</pre>\n            {JSON.stringify(location)}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default NewHotel;\n","import { useEffect } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getAccountStatus } from \"../actions/stripe\";\nimport { updateUserInLocalStorage } from \"../actions/auth\";\n\nconst StripeCallback = ({ history }) => {\n  const { auth } = useSelector((state) => ({ ...state }));\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (auth && auth.token) accountStatus();\n  }, [auth]);\n\n  const accountStatus = async () => {\n    try {\n      const res = await getAccountStatus(auth.token);\n      updateUserInLocalStorage(res.data, () => {\n        dispatch({\n          type: \"LOGGED_IN_USER\",\n          payload: res.data,\n        });\n\n        window.location.href = \"/dashboard/seller\";\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"d-flex justify-content-center p-5\">\n      <LoadingOutlined className=\"display-1 p-5 text-danger\" />\n    </div>\n  );\n};\n\nexport default StripeCallback;","import AlgoliaPlaces from \"algolia-places-react\";\nimport { DatePicker, Select } from \"antd\";\nimport moment from \"moment\";\n\nconst { Option } = Select;\n\nconst config = {\n  appId: process.env.REACT_APP_ALGOLIA_APP_ID,\n  apiKey: process.env.REACT_APP_ALGOLIA_APP_KEY,\n  language: \"en\",\n};\n\nconst HotelEditForm = ({\n  values,\n  setValues,\n  handleChange,\n  handleImageChange,\n  handleSubmit,\n}) => {\n  const { title, content, location, price, bed, from, to } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label className=\"btn btn-outline-secondary btn-block m-2 text-left\">\n          Image\n          <input\n            type=\"file\"\n            name=\"image\"\n            onChange={handleImageChange}\n            accept=\"image/*\"\n            hidden\n          />\n        </label>\n\n        <input\n          type=\"text\"\n          name=\"title\"\n          onChange={handleChange}\n          placeholder=\"Title\"\n          className=\"form-control m-2\"\n          value={title}\n        />\n\n        <textarea\n          name=\"content\"\n          onChange={handleChange}\n          placeholder=\"Content\"\n          className=\"form-control m-2\"\n          value={content}\n        />\n\n        {location && location.length && (\n          <AlgoliaPlaces\n            className=\"form-control m-2\"\n            placeholder=\"Location\"\n            defaultValue={location}\n            options={config}\n            onChange={({ suggestion }) =>\n              setValues({ ...values, location: suggestion.value })\n            }\n            style={{ height: \"50px\" }}\n          />\n        )}\n\n        <input\n          type=\"number\"\n          name=\"price\"\n          onChange={handleChange}\n          placeholder=\"Price\"\n          className=\"form-control m-2\"\n          value={price}\n        />\n\n        <Select\n          onChange={(value) => setValues({ ...values, bed: value })}\n          className=\"w-100 m-2\"\n          size=\"large\"\n          placeholder=\"Number of beds\"\n          value={bed}\n        >\n          <Option key={1}>{1}</Option>\n          <Option key={2}>{2}</Option>\n          <Option key={3}>{3}</Option>\n          <Option key={4}>{4}</Option>\n        </Select>\n      </div>\n\n      {from && (\n        <DatePicker\n          defaultValue={moment(from, \"YYYY-MM-DD\")}\n          placeholder=\"From date\"\n          className=\"form-control m-2\"\n          onChange={(date, dateString) =>\n            setValues({ ...values, from: dateString })\n          }\n          disabledDate={(current) =>\n            current && current.valueOf() < moment().subtract(1, \"days\")\n          }\n        />\n      )}\n\n      {to && (\n        <DatePicker\n          defaultValue={moment(to, \"YYYY-MM-DD\")}\n          placeholder=\"To date\"\n          className=\"form-control m-2\"\n          onChange={(date, dateString) =>\n            setValues({ ...values, to: dateString })\n          }\n          disabledDate={(current) =>\n            current && current.valueOf() < moment().subtract(1, \"days\")\n          }\n        />\n      )}\n\n      <button className=\"btn btn-outline-primary m-2\">Save</button>\n    </form>\n  );\n};\n\nexport default HotelEditForm;\n","import { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { DatePicker, Select } from \"antd\";\nimport { read, updateHotel } from \"../actions/hotel\";\nimport { useSelector } from \"react-redux\";\nimport HotelEditForm from \"../components/forms/HotelEditForm\";\n\nconst { Option } = Select;\n\nconst EditHotel = ({ match }) => {\n\n  const { auth } = useSelector((state) => ({ ...state }));\n  const { token } = auth;\n\n  const [values, setValues] = useState({\n    title: \"\",\n    content: \"\",\n    location: \"\",\n    price: \"\",\n    from: \"\",\n    to: \"\",\n    bed: \"\",\n  });\n  const [image, setImage] = useState(\"\");\n  const [preview, setPreview] = useState(\n    \"https://via.placeholder.com/100x100.png?text=PREVIEW\"\n  );\n\n  const { title, content, price, from, to, bed, location } = values;\n\n  useEffect(() => {\n    loadSellerHotel();\n  }, []);\n\n  const loadSellerHotel = async () => {\n    let res = await read(match.params.hotelId);\n    console.log(res);\n    setValues({ ...values, ...res.data });\n    setPreview(`${process.env.REACT_APP_API}/hotel/image/${res.data._id}`);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    let hotelData = new FormData();\n    hotelData.append(\"title\", title);\n    hotelData.append(\"content\", content);\n    hotelData.append(\"location\", location);\n    hotelData.append(\"price\", price);\n    image && hotelData.append(\"image\", image);\n    hotelData.append(\"from\", from);\n    hotelData.append(\"to\", to);\n    hotelData.append(\"bed\", bed);\n\n    try {\n      let res = await updateHotel(token, hotelData, match.params.hotelId);\n      console.log(\"HOTEL UPDATE RES\", res);\n      toast.success(`${res.data.title} is updated`);\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.err);\n    }\n  };\n\n  const handleImageChange = (e) => {\n    // console.log(e.target.files[0]);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n    setImage(e.target.files[0]);\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-white p-5 text-center\">\n        <h2>Edit Hotel</h2>\n      </div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <br />\n            <HotelEditForm\n              values={values}\n              setValues={setValues}\n              handleChange={handleChange}\n              handleImageChange={handleImageChange}\n              handleSubmit={handleSubmit}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <img\n              src={preview}\n              alt=\"preview_image\"\n              className=\"img img-fluid m-2\"\n            />\n            <pre>{JSON.stringify(values, null, 4)}</pre>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default EditHotel;\n","import React, { useState, useEffect } from \"react\";\nimport { useStore } from \"react-redux\";\nimport { read, diffDays, isAlreadyBooked } from \"../actions/hotel\";\nimport { getSessionId } from \"../actions/stripe\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport { loadStripe } from \"@stripe/stripe-js\";\n\nconst ViewHotel = ({ match, history }) => {\n  const [hotel, setHotel] = useState({});\n  const [image, setImage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [alreadyBooked, setAlreadyBooked] = useState(false);\n\n  const { auth } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadSellerHotel();\n  }, []);\n\n  useEffect(() => {\n    if (auth && auth.token) {\n      isAlreadyBooked(auth.token, match.params.hotelId).then((res) => {\n        console.log(res);\n        if (res.data.ok) setAlreadyBooked(true);\n      });\n    }\n  }, []);\n\n  const loadSellerHotel = async () => {\n    let res = await read(match.params.hotelId);\n    setHotel(res.data);\n    setImage(`${process.env.REACT_APP_API}/hotel/image/${res.data._id}`);\n  };\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n\n    if (!auth || !auth.token) {\n      history.push(\"/login\");\n      return;\n    }\n\n    setLoading(true);\n    if (!auth) history.push(\"/login\");\n    let res = await getSessionId(auth.token, match.params.hotelId);\n    const stripe = await loadStripe(process.env.REACT_APP_STRIPE_KEY);\n    stripe\n      .redirectToCheckout({\n        sessionId: res.data.sessionId,\n      })\n      .then((result) => console.log(result));\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-white p-5 text-center\">\n        <h1>{hotel.title}</h1>\n      </div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <br />\n            <img src={image} alt={hotel.title} className=\"img img-fluid m-2\" />\n          </div>\n\n          <div className=\"col-md-6\">\n            <br />\n            <b>{hotel.content}</b>\n            <p className=\"alert alert-info mt-3\">${hotel.price}</p>\n            <p className=\"card-text\">\n              <span className=\"float-right text-primary\">\n                for {diffDays(hotel.from, hotel.to)}{\" \"}\n                {diffDays(hotel.from, hotel.to) <= 1 ? \" day\" : \" days\"}\n              </span>\n            </p>\n            <p>\n              From <br />{\" \"}\n              {moment(new Date(hotel.from)).format(\"MMMM Do YYYY, h:mm:ss a\")}\n            </p>\n            <p>\n              To <br />{\" \"}\n              {moment(new Date(hotel.to)).format(\"MMMM Do YYYY, h:mm:ss a\")}\n            </p>\n            <i>Posted by {hotel.postedBy && hotel.postedBy.name}</i>\n            <br />\n            <button\n              onClick={handleClick}\n              className=\"btn btn-block btn-lg btn-primary mt-3\"\n              disabled={loading || alreadyBooked}\n            >\n              {loading\n                ? \"Loading...\"\n                : alreadyBooked\n                ? \"Already Booked\"\n                : auth && auth.token\n                ? \"Book Now\"\n                : \"Login to Book\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ViewHotel;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { stripeSuccessRequest } from \"../actions/stripe\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nconst StripeCancel = ({ match, history }) => {\n  const {\n    auth: { token },\n  } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n\n    stripeSuccessRequest(token, match.params.hotelId).then((res) => {\n      if (res.data.success) {\n        console.log(\"stripe success response\", res.data);\n        history.push(\"/dashboard\");\n      } else {\n        history.push(\"/stripe/cancel\");\n      }\n    });\n  }, [match.params.hotelId]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"d-flex justify-content-center p-5\">\n        <LoadingOutlined className=\"display-1 text-danger p-5\" />\n      </div>\n    </div>\n  );\n};\n\nexport default StripeCancel;\n","import React from \"react\";\n\nconst StripeCancel = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"col\">\n        <h2 className=\"text-center p-5\">Payment failed. Try again.</h2>\n      </div>\n    </div>\n  );\n};\n\nexport default StripeCancel;\n","import { useState, useEffect } from \"react\";\nimport queryString from \"query-string\";\nimport { Link } from \"react-router-dom\";\nimport Search from \"../components/forms/Search\";\nimport { searchListings } from \"../actions/hotel\";\nimport SmallCard from \"../components/cards/SmallCard\";\n\nconst SearchResult = () => {\n\n  const [searchLocation, setSearchLocation] = useState(\"\");\n  const [searchDate, setSearchDate] = useState(\"\");\n  const [searchBed, setSearchBed] = useState(\"\");\n  const [hotels, setHotels] = useState([]);\n\n  useEffect(() => {\n    const { location, date, bed } = queryString.parse(window.location.search);\n    console.table({ location, date, bed });\n    searchListings({ location, date, bed }).then((res) => {\n      console.log(\"SEARCH RESULTS ===>\", res.data);\n      setHotels(res.data);\n    });\n  }, [window.location.search]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <br />\n        <Search />\n      </div>\n      <div className=\"container\">\n        <div className=\"row\">\n          {hotels.map((h) => (\n            <SmallCard key={h._id} h={h} />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SearchResult;\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport TopNav from \"./components/TopNav\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nimport Home from \"./booking/Home\";\nimport Login from \"./auth/Login\";\nimport Registration from \"./auth/Registration\";\nimport Dashboard from \"./user/Dashboard\";\nimport DashboardSeller from \"./user/DashboardSeller\";\nimport NewHotel from \"./hotels/NewHotel\";\nimport StripeCallback from \"./stripe/StripeCallback\";\nimport EditHotel from \"./hotels/EditHotel\";\nimport ViewHotel from \"./hotels/ViewHotel\";\nimport StripeSuccess from \"./stripe/StripeSuccess\";\nimport StripeCancel from \"./stripe/StripeCancel\";\nimport SearchResult from \"./hotels/SearchResult\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <TopNav />\n      <ToastContainer position=\"top-right\"/>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/registration\" component={Registration} />\n          <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n          <PrivateRoute exact path=\"/dashboard/seller\" component={DashboardSeller} />\n          <PrivateRoute exact path=\"/hotels/new\" component={NewHotel} />\n          <PrivateRoute exact path=\"/stripe/callback\" component={StripeCallback} />\n          <PrivateRoute exact path=\"/hotel/edit/:hotelId\" component={EditHotel} />\n          <Route exact path=\"/hotel/:hotelId\" component={ViewHotel} />\n          <PrivateRoute exact path=\"/stripe/success/:hotelId\" component={StripeSuccess} />\n          <PrivateRoute exact path=\"/stripe/cancel\" component={StripeCancel} />\n          <Route exact path=\"/search-result\" component={SearchResult} />\n        </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","let userState;\n\nif(window.localStorage.getItem('auth')) {\n  userState = JSON.parse(window.localStorage.getItem(\"auth\"));\n} else {\n  userState = null;\n}\n\nexport const authReducer = (state = userState, action) => {\n    switch(action.type) {\n      case \"LOGGED_IN_USER\":\n        return {...state, ...action.payload};\n      case \"LOGOUT\":\n        return action.payload;\n      default:\n        return state;\n    }\n  };\n  \n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {combineReducers} from 'redux'\nimport {authReducer} from './auth'\n  \n  const rootReducer = combineReducers({\n    auth: authReducer,\n  });\n\n  export default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {createStore} from 'redux'\nimport {Provider}from 'react-redux'\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport rootReducer from \"./reducers\";\nimport \"antd/dist/antd.css\";\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}